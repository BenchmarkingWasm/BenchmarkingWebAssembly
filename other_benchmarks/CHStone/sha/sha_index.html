<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CHStone SHA</title>
</head>
<body>
<script>

    async function digestMessage(message) {
        const msgUint8 = new TextEncoder().encode(message);
        const hashBuffer = await crypto.subtle.digest('SHA-1', msgUint8);
        const hashArray = Array.from(new Uint8Array(hashBuffer));
        const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        return hashHex;
    }

    {
        // encode as UTF-8
        let EXPSIZE = "M";
        input = "73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d73475cb40a568e8d";

        let date1 = performance.now();
        const ret = digestMessage(input).then(value => {
            if ("b9c0806cb6280a7aba4856ce59348e95791077ee" !== value)
            {
                console.log("CHStone SHA (native) FAILED");
            }
            else
            {
                console.log('CHStone SHA (native) OK');
            }

            let date2 = performance.now();
            console.log(((date2 - date1)/1000).toFixed(6));
        })
    }
</script>
</body>
</html>